# CLAUDE.md

Claude Code 작업 지침 파일

## 프로젝트 개요

**교육용 3D 물리 시뮬레이터** - 물리 법칙을 3D 시각화로 학습하는 웹 플랫폼
현재 모듈: 야구 투구 시뮬레이터 (중력, 항력, 마그누스 효과)

## 빠른 시작

```bash
# 프론트엔드
npm install && npm run dev

# 백엔드
cd backend && npm install && npm run dev
```

## 아키텍처

- **3-Tier**: React/Three.js | Node.js/Express | PostgreSQL
- **모듈식 설계**: 시나리오 독립 구조 (`src/scenarios/{name}/`)
- **물리 계산**: 클라이언트 사이드
- **공통 코어**: `src/core/` (physics, renderer, ui)

## 주요 문서

| 문서 | 경로 | 용도 |
|------|------|------|
| 작업 목록 | `archive/작업목록.md` | 진행 상황 및 할 일 |
| 설계 명세서 v2 | `docs/프로젝트 설계 명세서.md` | 전체 설계 (최신: 2025-10-26) |
| 요구사항 | `docs/요구사항명세서_문서용.txt` | 요구사항 명세 |

## 현재 상태 (2025-10-26)

- Phase 1-2: ✅ 완료 (타입, 물리 엔진)
- Phase 3: 🔄 진행 중 (UI 통합, 파라미터 재설계)
- Phase 4-6: ⏳ 대기 (3D 렌더링, UI, 통합)

**설계 명세서 v2 적용 완료** (2025-10-26):
1. ✅ UI 모드 통합 (Simple/Advanced → 단일 모드)
2. ✅ 파라미터 3단 구조 (공 물성 | 투구 조건 | 환경 변수)
3. ✅ 중력 가변화 (9.78~9.83 m/s², 환경 변수로 제어)
4. ✅ 공기 밀도 자동 계산 (온도/기압/습도 → ρ)
5. ✅ 에셋 단순화 방침 강화 (교육용 목적 명시)

## 개발 규칙

- **단위**: 미터(m), m/s, 도(°), rpm
- **좌표계**: z축 음수 = 홈플레이트 방향
- **UI**: 단일 모드 (모드 토글 없음)
- **파라미터**: 3단 구조 (공 물성 / 투구 조건 / 환경 변수)
- **중력**: 환경 변수로 조정 (고정값 아님)
- **에셋**: 단순화 우선 (< 1000 폴리곤)
- **확장성**: 새 시나리오 추가 ~30분 (모듈식 구조)

## 작업 관리 규칙

**작업 목록 업데이트 정책**:
- 작업 완료 시 `archive/작업목록.md`를 업데이트할 것
- 토큰 효율을 위해 키워드 검색으로 작업 항목 찾기 (Grep 사용)
- 업데이트 주기: 3~4개 작업 완료 또는 작업 부문(Phase/섹션) 완료 시
- 매 작업마다 업데이트하지 말 것 (토큰 낭비 방지)

---

**마지막 업데이트**: 2025-10-26 (설계 명세서 v2 반영)
