| | | | | |
|---|---|---|---|---|
| | 1.1 | | 작품 개요 | 1 |
| | | 1.1.1 | 프로젝트명 및 개발 기간 | 1 |
| | | 1.1.2 | 프로젝트 요약 | 1 |
| | 1.2 | | 작품 선정 배경 | 2 |
| | | 1.2.1 | 교육적 필요성 | 2 |
| | | 1.2.2 | 기존 학습 방법의 한계 | 2 |
| | | 1.2.3 | 프로젝트 목표 | 3 |
| | 1.3 | | 유사 시스템 분석 | 3 |
| | | 1.3.1 | 기존 물리 시뮬레이션 도구 | 3 |
| | | 1.3.2 | 상용 야구 분석 도구 | 4 |
| | | 1.3.3 | 차별화 포인트 | 4 |
| | 1.4 | | 구현 범위 및 목표 | 5 |
| | | 1.4.1 | 구현 범위 (In-Scope) | 5 |
| | | 1.4.2 | 제외 범위 (Out-of-Scope) | 6 |
| | | 1.4.3 | 성능 목표 | 6 |
| **2** | | | **관련 기술** | |
| | 2.1 | | 프론트엔드 기술 스택 | 7 |
| | | 2.1.1 | React 18.2.0 + TypeScript 5.2.2 | 7 |
| | | 2.1.2 | Three.js 0.158.0 (3D 렌더링) | 8 |
| | | 2.1.3 | Styled-Components 6.1.13 | 9 |
| | | 2.1.4 | React Router 6.28.0 | 9 |
| | 2.2 | | 백엔드 및 인프라 | 10 |
| | | 2.2.1 | Supabase BaaS (PostgreSQL 15) | 10 |
| | | 2.2.2 | Supabase Auth | 11 |
| | | 2.2.3 | Supabase Storage | 11 |
| | 2.3 | | 물리 엔진 이론 | 12 |
| | | 2.3.1 | 운동방정식 (뉴턴 제2법칙) | 12 |
| | | 2.3.2 | 항력 (Drag Force) | 13 |
| | | 2.3.3 | 마그누스 효과 (Magnus Effect) | 14 |
| | | 2.3.4 | 수치 적분법 (RK4) | 15 |
| | 2.4 | | 시스템 아키텍처 | 16 |
| | | 2.4.1 | 클라이언트-서버 아키텍처 (BaaS) | 16 |
| | | 2.4.2 | 디렉토리 구조 | 17 |
| | | 2.4.3 | 컴포넌트 계층도 | 18 |
| | 2.5 | | 데이터베이스 설계 | 19 |
| | | 2.5.1 | ERD (Entity-Relationship Diagram) | 19 |
| | | 2.5.2 | 테이블 스키마 (profiles, experiments) | 20 |
| | | 2.5.3 | RLS 정책 | 21 |
| **3** | | | **구현 내용** | |
| | 3.1 | | 물리 엔진 구현 | 22 |
| | | 3.1.1 | PhysicsEngine 클래스 설계 | 22 |
| | | 3.1.2 | 힘 계산 모듈 (forceCalculator.ts) | 23 |
| | | 3.1.3 | RK4 적분 알고리즘 (integrator.ts) | 24 |
| | | 3.1.4 | 시뮬레이터 메인 로직 (simulator.ts) | 25 |
| | | 3.1.5 | 릴리스 포인트 자동 보정 | 26 |
| | 3.2 | | 3D 렌더링 시스템 | 27 |
| | | 3.2.1 | Scene3D 컴포넌트 | 27 |
| | | 3.2.2 | Ball3D 및 TrajectoryLine | 28 |
| | | 3.2.3 | VectorArrow (힘 벡터 시각화) | 29 |
| | | 3.2.4 | CameraController (카메라 프리셋) | 30 |
| | | 3.2.5 | Field (야구장 렌더링) | 31 |
| | 3.3 | | 투수 3D 모델 및 애니메이션 | 32 |
| | | 3.3.1 | Pitcher3D 컴포넌트 (FBX 로더) | 32 |
| | | 3.3.2 | 블렌더 모델 사양 (119 프레임 30fps) | 33 |
| | | 3.3.3 | 애니메이션 동기화 (48프레임 릴리스) | 34 |
| | | 3.3.4 | 좌완/우완 미러링 | 35 |
| | 3.4 | | 사용자 인터페이스 | 36 |
| | | 3.4.1 | PitchInputPanel (파라미터 입력) | 36 |
| | | 3.4.2 | ResultPanel (결과 표시) | 37 |
| | | 3.4.3 | ReplayControls (리플레이 컨트롤) | 38 |
| | | 3.4.4 | TabContainer (탭 UI) | 39 |
| | | 3.4.5 | 로그인/회원가입 페이지 | 40 |
| | 3.5 | | 실험 저장 및 비교 모드 | 41 |
| | | 3.5.1 | Supabase 연동 (supabaseApi.ts) | 41 |
| | | 3.5.2 | RecentExperimentsPanel | 42 |
| | | 3.5.3 | ComparisonContext 및 ComparisonPanel | 43 |
| | | 3.5.4 | ComparisonResultTable | 44 |
| | 3.6 | | 그래픽 설정 및 디버그 | 45 |
| | | 3.6.1 | GraphicsContext 및 설정 패널 | 45 |
| | | 3.6.2 | DebugPanel (성능 모니터링) | 46 |
| | | 3.6.3 | 동적 최적화 (DPR, 폴리곤, dt 조정) | 47 |
| | 3.7 | | 코드 상세 (17개 핵심 파일) | 48 |
| | | 3.7.1 | simulator.ts (전체 코드) | 48 |
| | | 3.7.2 | forceCalculator.ts (전체 코드) | 55 |
| | | 3.7.3 | integrator.ts (전체 코드) | 58 |
| | | 3.7.4 | PhysicsEngine.ts (전체 코드) | 60 |
| | | 3.7.5 | Scene3D.tsx (전체 코드) | 63 |
| | | 3.7.6 | Ball3D.tsx (전체 코드) | 70 |
| | | 3.7.7 | TrajectoryLine.tsx (전체 코드) | 72 |
| | | 3.7.8 | VectorArrow.tsx (전체 코드) | 75 |
| | | 3.7.9 | CameraController.tsx (전체 코드) | 78 |
| | | 3.7.10 | Pitcher3D.tsx (전체 코드) | 82 |
| | | 3.7.11 | PitchSimulator.tsx (전체 코드) | 89 |
| | | 3.7.12 | PitchInputPanel.tsx (전체 코드) | 100 |
| | | 3.7.13 | ResultPanel.tsx (전체 코드) | 108 |
| | | 3.7.14 | ReplayControls.tsx (전체 코드) | 112 |
| | | 3.7.15 | ComparisonPanel.tsx (전체 코드) | 116 |
| | | 3.7.16 | supabaseApi.ts (전체 코드) | 120 |
| | | 3.7.17 | types.ts (타입 정의 전체) | 125 |
| **4** | | | **테스트 및 검증** | |
| | 4.1 | | 단위 테스트 | 130 |
| | | 4.1.1 | forceCalculator 테스트 (6개 케이스) | 130 |
| | | 4.1.2 | integrator 테스트 (3개 케이스) | 135 |
| | | 4.1.3 | simulator 테스트 (5개 케이스) | 138 |
| | 4.2 | | 통합 테스트 | 143 |
| | | 4.2.1 | 포심 패스트볼 궤적 검증 | 143 |
| | | 4.2.2 | 커브볼 낙차 검증 | 144 |
| | | 4.2.3 | 슬라이더 수평 변화 검증 | 145 |
| | | 4.2.4 | 스트라이크 존 판정 정확도 | 146 |
| | 4.3 | | 성능 테스트 | 147 |
| | | 4.3.1 | 물리 계산 시간 (평균 2.5ms) | 147 |
| | | 4.3.2 | 렌더링 성능 (30fps 목표) | 148 |
| | | 4.3.3 | 메모리 사용량 | 149 |
| | | 4.3.4 | 저사양 환경 테스트 결과 | 150 |
| | 4.4 | | 디버깅 및 최적화 과정 | 151 |
| | | 4.4.1 | 카메라 떨림 현상 해결 | 151 |
| | | 4.4.2 | 리플레이 일시정지 버그 수정 | 152 |
| | | 4.4.3 | 투수 애니메이션 중복 실행 방지 | 153 |
| | | 4.4.4 | 입력 검증 및 디바운스 추가 | 154 |
| | | 4.4.5 | React.memo 적용 | 155 |
| | | 4.4.6 | 프로덕션 콘솔 로그 제거 | 156 |
| **5** | | | **실행 화면** | |
| | 5.1 | | 로그인 및 회원가입 | 157 |
| | | 5.1.1 | 로그인 페이지 스크린샷 | 157 |
| | | 5.1.2 | 회원가입 페이지 스크린샷 | 158 |
| | 5.2 | | 시뮬레이터 메인 화면 | 159 |
| | | 5.2.1 | 전체 레이아웃 | 159 |
| | | 5.2.2 | 파라미터 입력 탭 | 160 |
| | | 5.2.3 | 결과 탭 | 161 |
| | | 5.2.4 | 최근 실험 탭 | 162 |
| | | 5.2.5 | 비교 모드 탭 | 163 |
| | 5.3 | | 3D 시각화 화면 | 164 |
| | | 5.3.1 | 포수 시점 (Catcher View) | 164 |
| | | 5.3.2 | 투수 시점 (Pitcher View) | 165 |
| | | 5.3.3 | 측면 시점 (Side View) | 166 |
| | | 5.3.4 | 추적 시점 (Follow View) | 167 |
| | | 5.3.5 | 자유 시점 (Free View) | 168 |
| | 5.4 | | 리플레이 및 분석 | 169 |
| | | 5.4.1 | 리플레이 컨트롤 UI | 169 |
| | | 5.4.2 | 슬로우 모션 (0.25x ~ 2x) | 170 |
| | | 5.4.3 | 힘 벡터 시각화 | 171 |
| | 5.5 | | 비교 모드 실행 | 172 |
| | | 5.5.1 | 2개 궤적 동시 표시 | 172 |
| | | 5.5.2 | 비교 결과 테이블 | 173 |
| **6** | | | **설치 및 실행 방법** | |
| | 6.1 | | 개발 환경 설정 | 174 |
| | | 6.1.1 | Node.js 20.11.0 설치 | 174 |
| | | 6.1.2 | 프로젝트 클론 및 의존성 설치 | 174 |
| | | 6.1.3 | 환경 변수 설정 (.env 파일) | 175 |
| | 6.2 | | 로컬 실행 | 176 |
| | | 6.2.1 | 개발 서버 실행 (npm run dev) | 176 |
| | | 6.2.2 | 프로덕션 빌드 (npm run build) | 177 |
| | 6.3 | | Supabase 설정 | 178 |
| | | 6.3.1 | 프로젝트 생성 및 데이터베이스 마이그레이션 | 178 |
| | | 6.3.2 | Auth 설정 | 179 |
| | | 6.3.3 | RLS 정책 적용 | 180 |
| **7** | | | **결론** | |
| | 7.1 | | 프로젝트 성과 | 181 |
| | | 7.1.1 | 주요 구현 성과 | 181 |
| | | 7.1.2 | 기술적 성과 | 182 |
| | | 7.1.3 | 성능 목표 달성 | 183 |
| | 7.2 | | 한계점 및 개선 방향 | 184 |
| | | 7.2.1 | 현재 한계점 | 184 |
| | | 7.2.2 | 향후 개선 계획 | 185 |
| | 7.3 | | 향후 확장 계획 | 186 |
| | | 7.3.1 | 2차 시나리오 (책상 중력 게임) | 186 |
| | | 7.3.2 | 교사-학생 과제 기능 | 187 |
| | | 7.3.3 | 다국어 지원 | 188 |
| **부록** | | | | |
| | I | | 작품 사진 | 189 |
| | II | | 작품 포스터 | 193 |
| | III | | 소스 코드 (GitHub 링크) | 194 |